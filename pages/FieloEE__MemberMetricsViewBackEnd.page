<apex:page standardController="FieloEE__Member__c" extensions="FieloEE.MemberMetricsViewBackEndExtension" docType="html-5.0">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1", {packages:["corechart"]});
        google.setOnLoadCallback(drawChart);
        function drawChart() {

            var data = google.visualization.arrayToDataTable([
                ['{!$Label.Period}', '{!$Label.TransactionPoints}', '{!$Label.TotalRedeemPoints}', '{!$Label.NetPoints}'],
                <apex:repeat value="{!metricsList}" var="l">
                    ['{!l.period}', {!l.totalTransaction}, {!l.totalRedeem}, {!l.netPoints}],
                </apex:repeat>
            ]);
            var options = {
                title: '{!$Label.fieloee__titlememberperformancechart}',
                pointSize: 5
            };

            var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</head>
    <apex:pageBlock >
        <apex:pageMessages />
        <body>
            <div id="chart_div" style="width: 1200px; height: 500px;"></div>
        </body>
    </apex:pageBlock>
</apex:page>